(window["webpackJsonpGUI"] = window["webpackJsonpGUI"] || []).push([["addon-entry-script-snap"],{

/***/ "./src/addons/addons/script-snap/_runtime_entry.js":
/*!*********************************************************!*\
  !*** ./src/addons/addons/script-snap/_runtime_entry.js ***!
  \*********************************************************/
/*! exports provided: resources */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resources", function() { return resources; });
/* harmony import */ var _userscript_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./userscript.js */ "./src/addons/addons/script-snap/userscript.js");
/* generated by pull.js */

const resources = {
  "userscript.js": _userscript_js__WEBPACK_IMPORTED_MODULE_0__["default"]
};

/***/ }),

/***/ "./src/addons/addons/script-snap/userscript.js":
/*!*****************************************************!*\
  !*** ./src/addons/addons/script-snap/userscript.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (async function ({
  addon,
  console
}) {
  const Blockly = await addon.tab.traps.getBlockly();
  let workspace = Blockly.getMainWorkspace(); // Handle future workspaces

  const originalInit = Blockly.init_;

  Blockly.init_ = function (...args) {
    workspace = args[0];
    if (!addon.self.disabled) setGrid(true);
    return originalInit.call(this, ...args);
  };

  setGrid(true);
  addon.settings.addEventListener("change", () => setGrid(true));
  addon.self.addEventListener("disabled", () => setGrid(false));
  addon.self.addEventListener("reenabled", () => setGrid(true));

  function setGrid(enabled) {
    workspace.grid_.snapToGrid_ = enabled;
    if (enabled) workspace.grid_.spacing_ = addon.settings.get("grid");else workspace.grid_.spacing_ = 40;
    workspace.grid_.update(workspace.scale);
  }
});

/***/ })

}]);
//# sourceMappingURL=addon-entry-script-snap.js.map