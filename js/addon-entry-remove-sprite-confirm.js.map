{"version":3,"file":"js/addon-entry-remove-sprite-confirm.js","sources":["webpack://GUI/./src/addons/addons/remove-sprite-confirm/_runtime_entry.js","webpack://GUI/./src/addons/addons/remove-sprite-confirm/userscript.js"],"sourcesContent":["/* generated by pull.js */\nimport _js from \"./userscript.js\";\nexport const resources = {\n  \"userscript.js\": _js,\n};\n","export default async ({ addon, console, msg }) => {\n  if (!addon.tab.redux.state) return console.warn(\"Redux is not available!\");\n  const vm = addon.tab.traps.vm;\n  if (!vm) return;\n  const oldDeleteSprite = vm.deleteSprite;\n  const newDeleteSprite = function (...args) {\n    if (addon.self.disabled) return oldDeleteSprite.apply(this, args);\n    const canDelete = confirm(msg(\"confirm\"));\n    if (canDelete) return oldDeleteSprite.apply(this, args);\n    const restoreDeletionState = Object.assign({}, addon.tab.redux.state.scratchGui.restoreDeletion);\n    setTimeout(\n      () =>\n        addon.tab.redux.dispatch({\n          type: \"scratch-gui/restore-deletion/RESTORE_UPDATE\",\n          state: restoreDeletionState,\n        }),\n      100\n    );\n    return Promise.resolve();\n  };\n  vm.deleteSprite = newDeleteSprite;\n};\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAFA;AAMA;AACA;AACA;AAAA;AACA;;;;A","sourceRoot":""}