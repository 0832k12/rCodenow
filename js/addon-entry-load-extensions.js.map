{"version":3,"file":"js/addon-entry-load-extensions.js","sources":["webpack://GUI/./src/addons/addons/load-extensions/_runtime_entry.js","webpack://GUI/./src/addons/addons/load-extensions/userscript.js"],"sourcesContent":["/* generated by pull.js */\nimport _js from \"./userscript.js\";\nexport const resources = {\n  \"userscript.js\": _js,\n};\n","export default async function ({ addon, console }) {\n  const vm = addon.tab.traps.vm;\n  const loadExtensions = () => {\n    if (addon.self.disabled) return;\n    // IDs are taken from https://github.com/LLK/scratch-vm/blob/ffa78b91b8645b6a8c80f698a3637bb73abf2931/src/extension-support/extension-manager.js#L11\n    const EXTENSIONS = [\"music\", \"pen\", \"text2speech\", \"translate\"];\n    for (let ext of EXTENSIONS) {\n      // Check if setting enabled and it's not already loaded\n      if (addon.settings.get(ext) && !vm.extensionManager.isExtensionLoaded(ext)) {\n        vm.extensionManager.loadExtensionIdSync(ext);\n      }\n    }\n  };\n  if (vm.editingTarget) {\n    loadExtensions();\n  } else {\n    vm.runtime.once(\"PROJECT_LOADED\", loadExtensions);\n  }\n}\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}